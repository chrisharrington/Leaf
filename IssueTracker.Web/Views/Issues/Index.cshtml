<div class="tile table-tools">
	<div class="filter-tags">
		<div id="priority-filter">
			<span data-bind="css: { selected: IssueTracker.Issues.priorityFilterModel.selectedPriority() != undefined }, text: IssueTracker.Issues.priorityFilterModel.selectedPriority() ? IssueTracker.Issues.priorityFilterModel.selectedPriority().Name : 'Priority'"></span>
			<i class="fa fa-angle-down"></i>
		</div>
		<div id="status-filter">
			<span data-bind="css: { selected: IssueTracker.Issues.statusFilterModel.selectedStatus() != undefined }, text: IssueTracker.Issues.statusFilterModel.selectedStatus() ? IssueTracker.Issues.statusFilterModel.selectedStatus().Name : 'Status'"></span>
			<i class="fa fa-angle-down"></i>
		</div>
		<div id="assignee-filter">
			<span data-bind="css: { selected: IssueTracker.Issues.assigneeFilterModel.selectedAssignee() != undefined }, text: IssueTracker.Issues.assigneeFilterModel.selectedAssignee() ? IssueTracker.Issues.assigneeFilterModel.selectedAssignee().Name : 'Assignee'"></span>
			<i class="fa fa-angle-down"></i>
		</div>
		<div id="owner-filter">
			<span data-bind="css: { selected: IssueTracker.Issues.ownerFilterModel.selectedOwner() != undefined }, text: IssueTracker.Issues.ownerFilterModel.selectedOwner() ? IssueTracker.Issues.ownerFilterModel.selectedOwner().Name : 'Owner'"></span>
			<i class="fa fa-angle-down"></i>
		</div>
	</div>
	<div class="tools">
		<i id="sort" class="fa fa-sort-alpha-asc"></i>
		<i class="fa fa-gear"></i>
	</div>
	<div class="filter">
		<input type="text" placeholder="Filter..." data-bind="value: IssueTracker.Issues.filter"/>
		<i class="fa fa-times"></i>
	</div>
</div>

<div class="tile issues-container table">
	<table>
		<thead>
			<tr>
				<th style="width:10px;" class="priority"></th>
				<th></th>
				<th style="width:100px;">Status</th>
				<th style="width:100px;">Owner</th>
				<th style="width:100px;">Assignee</th>
				<th style="width:70px;">Opened</th>
				<th style="width:70px;">Closed</th>
			</tr>
		</thead>
		<tbody data-bind="foreach: IssueTracker.Issues.list">
			<tr>
				<td data-bind="attr: { class: 'priority ' + priorityStyle }"></td>
				<td class="ellipsis name">
					<span class="name" data-bind="text: name, attr: { class: 'name ' + priorityStyle }"></span>
					<span class="description" data-bind="text: description"></span>
				</td>
				<td data-bind="text: status"></td>
				<td data-bind="text: owner"></td>
				<td data-bind="text: assignee"></td>
				<td data-bind="text: opened"></td>
				<td data-bind="text: closed"></td>
			</tr>
		</tbody>
		<tfoot>
			<tr>
				<td colspan="7">
					<img src="@Url.Content("~/Images/ajax-loader.gif")" alt=""/>
				</td>
			</tr>
		</tfoot>
	</table>
</div>

<script id="priority-filter-dialog" type="text/html">
	<div class="select-dialog priority-filter-dialog" data-bind="foreach: priorities">
		<div data-bind="text: Name, attr: { 'data-priority': JSON.stringify($data), class: Name.toLowerCase() + ($root.selectedPriority() && $root.selectedPriority().Name == Name ? ' selected' : '') }"></div>
	</div>
</script>

<script id="status-filter-dialog" type="text/html">
	<div class="select-dialog status-filter-dialog" data-bind="foreach: statuses">
		<div data-bind="text: Name, attr: { 'data-status': JSON.stringify($data), class: Name.toLowerCase() + ($root.selectedStatus() && $root.selectedStatus().Name == Name ? ' selected' : '') }"></div>
	</div>
</script>

<script id="assignee-filter-dialog" type="text/html">
	<div class="select-dialog assignee-filter-dialog" data-bind="foreach: assignees">
		<div data-bind="text: Name, attr: { 'data-assignee': JSON.stringify($data), class: Name.toLowerCase() + ($root.selectedAssignee() && $root.selectedAssignee().Name == Name ? ' selected' : '') }"></div>
	</div>
</script>

<script id="owner-filter-dialog" type="text/html">
	<div class="select-dialog owner-filter-dialog" data-bind="foreach: owners">
		<div data-bind="text: Name, attr: { 'data-owner': JSON.stringify($data), class: Name.toLowerCase() + ($root.selectedOwner() && $root.selectedOwner().Name == Name ? ' selected' : '') }"></div>
	</div>
</script>

<script id="sort-dialog" type="text/html">
	<div class="select-dialog sort-dialog">
		<div data-comparer="name">
			<span>Description</span>
			<i data-direction="descending" class="fa fa-angle-down" data-bind="css: { selected: direction() == 'descending' && comparer() == 'name' }"></i>
			<i data-direction="ascending" class="fa fa-angle-up" data-bind="css: { selected: direction() == 'ascending' && comparer() == 'name' }"></i>
		</div>
		<div data-comparer="priority">
			<span>Priority</span>
			<i data-direction="descending" class="fa fa-angle-down" data-bind="css: { selected: direction() == 'descending' && comparer() == 'priority' }"></i>
			<i data-direction="ascending" class="fa fa-angle-up" data-bind="css: { selected: direction() == 'ascending' && comparer() == 'priority' }"></i>
		</div>
		<div data-comparer="status">
			<span>Status</span>
			<i data-direction="descending" class="fa fa-angle-down" data-bind="css: { selected: direction() == 'descending' && comparer() == 'status' }"></i>
			<i data-direction="ascending" class="fa fa-angle-up" data-bind="css: { selected: direction() == 'ascending' && comparer() == 'status' }"></i>
		</div>
		<div data-comparer="owner">
			<span>Owner</span>
			<i data-direction="descending" class="fa fa-angle-down" data-bind="css: { selected: direction() == 'descending' && comparer() == 'owner' }"></i>
			<i data-direction="ascending" class="fa fa-angle-up" data-bind="css: { selected: direction() == 'ascending' && comparer() == 'owner' }"></i>
		</div>
		<div data-comparer="assignee">
			<span>Assignee</span>
			<i data-direction="descending" class="fa fa-angle-down" data-bind="css: { selected: direction() == 'descending' && comparer() == 'assignee' }"></i>
			<i data-direction="ascending" class="fa fa-angle-up" data-bind="css: { selected: direction() == 'ascending' && comparer() == 'assignee' }"></i>
		</div>
		<div data-comparer="opened">
			<span>Date Opened</span>
			<i data-direction="descending" class="fa fa-angle-down" data-bind="css: { selected: direction() == 'descending' && comparer() == 'opened' }"></i>
			<i data-direction="ascending" class="fa fa-angle-up" data-bind="css: { selected: direction() == 'ascending' && comparer() == 'opened' }"></i>
		</div>
		<div data-comparer="closed">
			<span>Date Closed</span>
			<i data-direction="descending" class="fa fa-angle-down" data-bind="css: { selected: direction() == 'descending' && comparer() == 'closed' }"></i>
			<i data-direction="ascending" class="fa fa-angle-up" data-bind="css: { selected: direction() == 'ascending' && comparer() == 'closed' }"></i>
		</div>
	</div>
</script>